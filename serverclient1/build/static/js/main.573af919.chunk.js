(this.webpackJsonpspectrum=this.webpackJsonpspectrum||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/Capture1.310dd99a.PNG"},32:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAACSUlEQVRYhcWWPWgUQRiG3zlCkCOIBJEgYZEgkkLkOBT8iREUJFilEhG0sLQQsbCxFAQRsRKxSGUhJoiNECwkhaKFoIJKCn+SEEQkBo0cEZXwWOwoc2N27769O32r+Xa/n2dnduYbpwwBg5IOS9ojKZHUJakm6Y2kKUnjzrlPWfGFBSTAbWCFfH0DLgLldhYfAT43KBzrFbC5HcUPAd+j5PeA40AF2AIMA2eB6cjvPbCpleIDwFKUcH+Ofwk4A/wMYp4A3UUBJot8DTAaQZwqUrwaJFgBho3x5yN42ywAV4IEd0zBaXwZ+BjkOGiJL0naHdg3rQDOuWVJ48GjfVaA/sB+agXwehaMB6wAawL7a0GAH8G4xwpQC+zeggDhR9QyvTIAZgO7WhBgRzB+ZwV4FNjHrJWBtUqb1m89sCbYSn3jGTHGX27pHPBJJoIki0ClybgTEfxJc3GfaGN0mCwBR4As/zJwKSr+FihZa7sg6ZCkSdVvo+eSJiS9lPRFUp+kXZKOStqwSr4LzrlzVog/Anb6dbRoPrJfAI/9DK0rAtELXCW98eRpATgNdAHXMnymgSSvnst6AayXNCppr9I7YbekZaX7/L6ku74PyK/9jPeLNSvpgHPOdD6YRXohydIcsGqPMP+1OXqY8y6RNJUF0RYBfcCHBv/NHK3cHZuAqJAeZP8VYjuNr/YzjXZHOyAazcRr0p3WMYhqExDXOwbgISqkB1aW5jsK4CG2Ud/oQi10HMBDDPJ3zwAY+ycAHiIBbvklWQRuAD2/ALVu90cS+TPeAAAAAElFTkSuQmCC"},33:function(e,t,a){e.exports=a.p+"static/media/Untitled3.aead2d91.png"},37:function(e,t,a){e.exports=a(68)},42:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(30),o=a.n(s),l=(a(42),a(1)),i=a(2),c=a(5),d=a(3),m=a(4),u=a(32),h=a.n(u),g=a(33),p=a.n(g),f=a(6),b=a(8),E=a.n(b),v=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={redirect:null},a.handelBias=function(e){a.props.setterParent("")},a.handelLoginNav=function(){return console.log("in top navbar"),a.props.isLoggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item",id:"Dash"},r.a.createElement(f.b,{to:"/auth/dashboard",className:"nav-link",onClick:a.handelLogin},"Dashboard")),r.a.createElement("li",{className:"nav-item",id:"logout"},r.a.createElement(f.b,{to:"/auth/login",className:"nav-link",onClick:a.handelLogout},"Logout")),r.a.createElement("li",{className:"nav-item",id:"logout"},r.a.createElement(f.b,{to:"/auth/history",className:"nav-link",onClick:a.handelLogin},"History")),"admin"===a.props.username&&r.a.createElement("li",{className:"nav-item",id:"Admin"},r.a.createElement(f.b,{to:"/auth/admin",className:"nav-link",onClick:a.handelLogin},"Admin"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"nav-item",id:"login"},r.a.createElement(f.b,{to:"/auth/login",className:"nav-link",onClick:a.handelLogin},"Login")),r.a.createElement("li",{className:"nav-item",id:"signup"},r.a.createElement(f.b,{to:"/auth/signup",className:"nav-link",onClick:a.handelLogin},"Sign Up")))},a.handelLogin=function(e){a.props.setRedirect(!1)},a.handelLogout=function(e){e.preventDefault(),console.log("logging out"),E.a.post("/user/logout").then((function(e){console.log(e.data),200===e.status&&(a.props.handelIsLoggedIn(!1,null),document.location.href="/auth/login")})).catch((function(e){console.log("Logout error")}))},a.openSearch=function(){document.getElementById("myOverlay").style.display="block"},a.closeSearch=function(){document.getElementById("myOverlay").style.display="none"},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{id:"header",className:"navbar navbar-expand-lg navbar-dark"},r.a.createElement("img",{className:"headerLogo",src:p.a}),r.a.createElement(f.b,{to:"/",className:"navbar-brand ml-2",onClick:this.handelBias},"The Spectrum"),r.a.createElement("div",{className:"d-flex ml-auto heree"},r.a.createElement("span",{className:"search-icon"}),r.a.createElement("img",{className:"search-svg",id:"search-icon",src:h.a,alt:"search-icon",onClick:this.openSearch})),r.a.createElement("div",{id:"myOverlay",className:"overlay"},r.a.createElement("span",{className:"closebtn",onClick:this.closeSearch,title:"Close Overlay"},"\xd7"),r.a.createElement("div",{className:"d-flex justify-content-center overlay-content"},r.a.createElement("span",{className:"navbar-text d-lg-none d-xl-none searchBar"},r.a.createElement("form",{className:"form-inline"},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",name:"user_search",placeholder:"Search","aria-label":"Search"}),r.a.createElement("button",{className:"btn my-2 my-sm-0 searchHeader",type:"submit"},"Search"))))),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":".navbarCombine","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-right navbar-collapse navbarCombine",id:"navbarTogglerDemo01"},r.a.createElement("ul",{className:"navbar-nav ml-auto mt-2 mt-lg-0 "},r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/",className:"nav-link",onClick:this.handelBias},"Home")),this.handelLoginNav()))))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={keywords:"",redirect:!1},a.handleSearch=function(e){e.preventDefault(),E.a.post("/keywords",{keywords:a.state.keywords}).then((function(e){200===e.status&&(console.log("search successful!"),console.log(e.data.data),a.props.setSearchData(e.data.data))})).catch((function(e){console.log(e)}))},a.handelBias=function(e){a.props.setterParent(e.target.innerHTML)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{id:"mediaMenu",className:"navbar navbar-expand-lg navbar-light"},r.a.createElement("div",{className:"collapse navbar-collapse navbarCombine",id:"navbarText"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item",datatoggle:"collapse",datatarget:".navbar-collapse.show"},r.a.createElement(f.b,{to:"/left_bias",className:"nav-link",onClick:this.handelBias},"Left Bias")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/left_center_bias",className:"nav-link",onClick:this.handelBias},"Left Center Bias")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/least_bias",className:"nav-link",onClick:this.handelBias},"Least Biased")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/right_center_bias",className:"nav-link",onClick:this.handelBias},"Right Center Bias")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/right_bias",className:"nav-link",onClick:this.handelBias},"Right Bias")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/pro_science",className:"nav-link",onClick:this.handelBias},"Pro Science")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.b,{to:"/questionable_sources",className:"nav-link",onClick:this.handelBias},"Questionable Sources"))),r.a.createElement("span",{className:"navbar-text d-none d-lg-block d-xl-block"},r.a.createElement("form",{className:"form-inline",onSubmit:this.handleSearch},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",name:"user_search",placeholder:"Search","aria-label":"Search",onChange:function(t){e.setState({keywords:t.target.value})}}),r.a.createElement("button",{className:"btn my-2 my-sm-0 searchBtnMediaMenu",type:"submit"},"Search"))))))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={showMore:!1,isMobile:!1},a.toggle=function(){a.setState({showMore:!a.state.showMore})},a.showButton=function(){return a.props.news.summary.length>200},a.handelBadge=function(){a.setState({isMobile:window.innerWidth<700})},a.addToHistory=function(){console.log("inside addToHistory"),a.props.isLoggedIn&&E.a.post("/user/history",{article:a.props.news}).then((function(e){200==e.status&&console.log("Successfully added history to user")})).catch((function(e){console.log(e)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handelBadge)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handelBadge)}},{key:"getRenderedItems",value:function(){return this.state.showMore?this.props.news.summary:this.state.isMobile?void 0:this.props.news.summary.length>0?this.props.news.summary.substring(0,200):void 0}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"col-10 offset-1 d-flex flex-column flex-grow align-items-stretch mb-2"},r.a.createElement("div",{className:"row no-gutters bg-light position-relative mt-4",id:"firstNews"},r.a.createElement("div",{className:"col-md-4 mb-md-0 p-md-4"},r.a.createElement("img",{src:this.props.news.top_image,className:"w-100 rounded articleImages",alt:""})),r.a.createElement("div",{className:"col-md-8 position-relative p-4 pl-md-0"},r.a.createElement("h5",{id:"newsTitle",className:"mt-0"},this.props.news.title),r.a.createElement("p",{href:"url",className:"stretched-link hereContent",style:{position:"relative"}},this.getRenderedItems()),this.showButton()&&r.a.createElement("button",{onClick:this.toggle,className:"btn my-2 my-sm-0 readMoreLess"},this.state.showMore?"Read Less":"Read More"),r.a.createElement("div",null,r.a.createElement("strong",null,"Bias: ",this.props.news.bias)),r.a.createElement("div",null,r.a.createElement("a",{href:this.props.news.url,className:"stretched-link check history",style:{position:"relative"},target:"_blank",onClick:this.addToHistory},"Link to news"),r.a.createElement("p",{style:{transform:"rotate(0)"}},r.a.createElement("a",{href:this.props.news.mbfc,className:"text-warning stretched-link",target:"_blank"},"Bias Breakdown")))))))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).style={color:"white",fontSize:30,height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:this.style},r.a.createElement("p",null,"Opps you did it again!!!!"),r.a.createElement(f.b,{to:"/"},r.a.createElement("button",{type:"button"},"Home!"))))}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).handleBias=function(){var e=[],t=a.handelNavRouting();return console.log("inside handleBias"),t?(console.log("handleNavRouting is true"),console.log(a.props.parsed_data),console.log(a.props.parsed_data.length),e=[a.props.parsed_data],console.log(a.props.parsed_data),Array.isArray(a.props.parsed_data)?e.map((function(e,t){return r.a.createElement(N,{key:t,news:e})})):(e=a.props.parsed_data[a.props.match.params.id],console.log(e),a.props.shuffle(e),console.log("logging this.props.isLoggedIn"),console.log(a.props.isLoggedIn),e.map((function(e,t){return r.a.createElement(N,{key:t,news:e,isLoggedIn:a.props.isLoggedIn})})))):r.a.createElement(w,null)},a.handelNavRouting=function(){var e=a.props.match.params.id;if(e){return!!["left_bias","left_center_bias","least_bias","right_center_bias","right_bias","pro_science","questionable_sources"].find((function(t){return t===e}))}return!1},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.handleBias())}}]),t}(n.Component),k=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).getData=function(){var e={dummy_data:[]},t=a.props.parsed_data;if(a.props.searchData)console.log("setting search data"),e.dummy_data=a.props.searchData;else for(var n in t)for(var s=t[n],o=0;o<2;o++){var l=s[o];e.dummy_data.push(l)}var i=e.dummy_data;return console.log(i),a.props.shuffle(i),i.map((function(e,t){return r.a.createElement(N,{key:t,news:e,isLoggedIn:a.props.isLoggedIn})}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.getData())}}]),t}(n.Component),O=a(12),C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",redirect:null},a.handelLogin=function(e){console.log(),e.preventDefault(),E.a.post("/user/login",{username:a.state.username,password:a.state.password}).then((function(e){console.log("login success!"),console.log(e),console.log(e.data),200===e.status&&(console.log("status code 200"),console.log(a.state.username),a.setState({redirect:"/"},(function(){console.log(a.state),a.props.handelIsLoggedIn(!0,a.state.username)})))})).catch((function(e){console.log("login error!"),console.log(e)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement(O.a,{to:{pathname:this.state.redirectTo}}):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-md-4 m-auto"},r.a.createElement("div",{className:"card card-body"},r.a.createElement("h1",{className:"text-center mb-3"},r.a.createElement("i",{className:"fas fa-sign-in-alt"})," Login"),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Enter Email",onChange:function(t){return e.setState({username:t.target.value})},required:!0}),r.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"Enter Password",onChange:function(t){return e.setState({password:t.target.value})},required:!0})),r.a.createElement("button",{type:"submit",onClick:this.handelLogin,className:"btn btn-primary btn-block"},"Login")),r.a.createElement("p",{className:"lead mt-4"},"No Account? ",r.a.createElement(f.b,{to:"/auth/signup"},"Signup"))))))}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={firstName:"",lastName:"",email:"",password:"",password2:"",redirect:!1},a.handleLogin=function(e){console.log("sign up handle login, email: "),e.preventDefault(),E.a.post("/user/signup",{firstName:a.state.firstName,lastName:a.state.lastName,email:a.state.email,password:a.state.password,password2:a.state.password2}).then((function(e){console.log("signup success!"),console.log(e),a.setState({redirect:!0}),a.props.handelIsLoggedIn(!0,a.state.email)})).catch((function(e){console.log("signup error!"),console.log(e)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;if(this.state.redirect)return console.log("inside redirect"),r.a.createElement(O.a,{to:"/auth/dashboard"});return r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-md-4 m-auto col-8 offset-2"},r.a.createElement("div",{className:"card card-body"},r.a.createElement("h1",{className:"text-center mb-3"},r.a.createElement("i",{className:"fas fa-user-plus"})," Register"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"First Name"),r.a.createElement("input",{type:"name",id:"firstName",name:"name",className:"form-control",placeholder:"First Name",onChange:function(t){return e.setState({firstName:t.target.value})},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Last Name"),r.a.createElement("input",{type:"name",id:"lastName",name:"name",className:"form-control",placeholder:"Last Name",onChange:function(t){return e.setState({lastName:t.target.value})},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Enter Email",onChange:function(t){return e.setState({email:t.target.value})},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"Create Password",onChange:function(t){return e.setState({password:t.target.value})},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"password",id:"password2",name:"password2",className:"form-control",placeholder:"Confirm Password",onChange:function(t){return e.setState({password2:t.target.value})},required:!0})),r.a.createElement("button",{type:"submit",onClick:this.handleLogin,className:"btn btn-primary btn-block"},"Register"),r.a.createElement("p",{className:"lead mt-4"},"Have An Account?",r.a.createElement(f.b,{to:"/auth/login"},"Login")))))}}]),t}(n.Component),j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).getTHeads=function(){return a.props.head.map((function(e,t){return r.a.createElement("th",{key:t},e)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("table",{id:"userTable"},r.a.createElement("tbody",null,r.a.createElement("tr",null,this.getTHeads()))))}}]),t}(n.Component),I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).addUserToTable=function(e){var t=document.querySelector("#userTable");if("admin"!==e.username){var n=document.createElement("td");n.appendChild(document.createTextNode(e.username));document.createElement("strong");var r=document.createElement("td"),s=document.createElement("button"),o=document.createTextNode("Remove");s.appendChild(o),s.classList.add(e._id),s.addEventListener("click",a.removeUser),r.appendChild(s);var l=document.createElement("tr");l.appendChild(n),l.appendChild(r),t.querySelector("tbody").appendChild(l)}},a.removeUser=function(e){console.log("inside removeUser"),console.log(e.target.innerText),console.log(e.target.parentElement.parentElement.rowIndex),document.querySelector("#userTable").deleteRow(e.target.parentElement.parentElement.rowIndex),E.a.post("/user/admin",{id:e.target.classList[0]}).then((function(e){console.log("post admin sucessful!"),a.props.getUsers()})).catch((function(e){console.log(e)}))},a.manipulateTable=function(){a.props.users.forEach((function(e){a.addUserToTable(e)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.users.length>0&&(this.manipulateTable(),this.props.getUsers())}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"title"},"Admin Page to manage Users"),r.a.createElement("div",{className:"smth title"},r.a.createElement("p",null,"Admin is allowed to remove users")),r.a.createElement(j,{head:["User Name","Remove: id"]}))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={history:null},a.getUser=function(){console.log("inside getUser History"),E.a.get("/user/history").then((function(e){200===e.status&&(console.log(e.data.history),a.setState({history:e.data.history}),console.log(a.state),a.tableManipulation())}))},a.tableManipulation=function(){var e=document.querySelector("#userTable");console.log("logging history in tableManipulation"),console.log(a.state.history),a.state.history&&a.state.history.forEach((function(t){!function(t){var a=document.createElement("td");a.appendChild(document.createTextNode(t.article.title));var n=document.createElement("strong"),r=t.article.bias.split("_");n.appendChild(document.createTextNode(r[0]+" "+r[1]));var s=document.createElement("td");s.appendChild(n);var o=document.createElement("tr");o.appendChild(a),o.appendChild(s),e.querySelector("tbody").appendChild(o)}(t)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.users.length>0&&this.getUser()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"title"},"User History"),r.a.createElement("div",{className:"smth title"},r.a.createElement("p",null,"Look at your media diet")),r.a.createElement("div",{className:"container"},r.a.createElement(j,{head:["Article Title","Bias"]})))}}]),t}(n.Component),B=a(36),T=a.n(B),R=[10,10,10,10,20,20,20],D=[20,10,10,10,10,10,30],M=[10,20,10,10,10,10,30],x=[10,10,20,10,10,10,30],U={labels:["Left Bias","Left-Center Bias","Least Biased","Right-Center Bias","Right biased","Pro-Science","Questionable Sources"],datasets:[{data:[10,10,10,10,10,10,40],backgroundColor:["#FF6384","#63FF84","#84FF63","#8463FF","#6384FF","#6384FF","#6384FF"]}]},F=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).init=function(){a.myChart=new T.a(a.chartRef.current,{type:"pie",data:U,options:{legend:{display:!0,labels:{fontColor:"rgb(256,256,256)",position:"top",align:"center",responsive:"true"}}}})},a.setListeners=function(){document.getElementById("today").addEventListener("click",a.toggle),document.getElementById("thisWeek").addEventListener("click",a.toggle),document.getElementById("thisMonth").addEventListener("click",a.toggle),document.getElementById("eternity").addEventListener("click",a.toggle)},a.toggle=function(e){var t;console.log("inside toggle"),a.myChart.destroy(),document.querySelector(".smth").innerHTML=e.target.innerHTML,"Today"===e.target.innerHTML?t=R:"This Week"===e.target.innerHTML?t=D:"This Month"===e.target.innerHTML?t=M:"Eternity"===e.target.innerHTML&&(t=x),a.myChart.data.datasets[0].data=t,a.init()},a.chartRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.init(),this.setListeners()}},{key:"render",value:function(){return r.a.createElement("canvas",{ref:this.chartRef,id:"Schart",width:"800",height:"450"})}}]),t}(r.a.Component),_=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={rerender:null},a.changeState=function(e){a.setState({rerender:e})},a.getChart=function(){return r.a.createElement(r.a.Fragment,null," ",r.a.createElement(F,{changeState:a.changeState})," ")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dropdown d-flex justify-content-center filter-dash"},r.a.createElement("h4",{className:"d-inline-block align-middle heading dash",id:"dash"},"User's Media Consumption Diet"),r.a.createElement("button",{className:"btn  dropdown-toggle smth dash",type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Filter"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenu2"},r.a.createElement("button",{className:"dropdown-item",id:"today",type:"button"},"Today"),r.a.createElement("button",{className:"dropdown-item",id:"thisWeek",type:"button"},"This Week"),r.a.createElement("button",{className:"dropdown-item",id:"thisMonth",type:"button"},"This Month"),r.a.createElement("button",{className:"dropdown-item",id:"eternity",type:"button"},"Eternity"))),this.getChart(),r.a.createElement("div",{className:"container"},r.a.createElement("form",{action:"/dash",method:"POST",className:"mt-5"},r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-4 offset-4 text-center"},r.a.createElement("h4",{className:"dash"},"Add New News URL"),r.a.createElement("h4",{className:"dash"},"(Subject to Admin Approval)"),r.a.createElement("label",{htmlFor:"urlSubmit",className:""},"Add New News URL"),r.a.createElement("div",{className:""},r.a.createElement("input",{name:"urlToSubmit",type:"text",className:"form-control",id:"urlSubmit",placeholder:"https://AddNewURLHere"})))))))}}]),t}(n.Component),H=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).getSearchData=function(){var e={dummy_data:[]};if(console.log(a.props.searchData),a.props.searchData.length>0)e.dummy_data=a.props.searchData;else{var t=a.props.parsed_data;for(var n in t)for(var s=t[n],o=0;o<2;o++){var l=s[o];e.dummy_data.push(l)}}var i=e.dummy_data;return console.log(i),a.props.shuffle(i),i.map((function(e,t){return r.a.createElement(N,{key:t,news:e,isLoggedIn:a.props.isLoggedIn})}))},a.setListeners=function(){console.log(document.getElementById("leftTog")),document.getElementById("leftTog").addEventListener("click",a.toggle),document.getElementById("leftCenTog").addEventListener("click",a.toggle),document.getElementById("rightTog").addEventListener("click",a.toggle),document.getElementById("sciTog").addEventListener("click",a.toggle),document.getElementById("qTog").addEventListener("click",a.toggle),document.getElementById("rightCenTog").addEventListener("click",a.toggle),document.getElementById("leastTog").addEventListener("click",a.toggle)},a.toggle=function(e){console.log("inside toggle"),document.querySelector("#dropdownMenu2").innerHTML=e.target.innerHTML},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setListeners()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"dropdown d-flex justify-content-center filter-dash"},r.a.createElement("h4",{className:"d-inline-block align-middle heading dash",id:"dash"},"Search Results:"),r.a.createElement("button",{className:"btn  dropdown-toggle smth dash",type:"button",id:"dropdownMenu2","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Filter Bias"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenu2"},r.a.createElement("button",{className:"dropdown-item",id:"leftTog",type:"button"},"Left Bias"),r.a.createElement("button",{className:"dropdown-item",id:"leftCenTog",type:"button"},"Left Center Bias"),r.a.createElement("button",{className:"dropdown-item",id:"leastTog",type:"button"},"Least Bias"),r.a.createElement("button",{className:"dropdown-item",id:"rightTog",type:"button"},"Right Bias"),r.a.createElement("button",{className:"dropdown-item",id:"rightCenTog",type:"button"},"Right Center Bias"),r.a.createElement("button",{className:"dropdown-item",id:"sciTog",type:"button"},"Pro Science"),r.a.createElement("button",{className:"dropdown-item",id:"qTog",type:"button"},"Questionable Sources"))),this.getSearchData())}}]),t}(n.Component),P=a(19),W=a.n(P),q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedIn:!1,username:null,users:[],isLoggedOut:!1,searchData:null},a.shuffle=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[a],e[a]=n}},a.getAllUsers=function(){E.a.get("/user/all").then((function(e){console.log("Get all users"),console.log(e.data),a.setState({users:e.data})}))},a.setSearchData=function(e){console.log("inside setSearchData"),a.setState({searchData:e}),a.props.setRedirect(!0)},a.handelIsLoggedIn=function(e,t){console.log("inside handleIsLoggedIn after login calls fn, should set state"),a.setState({isLoggedIn:e,username:t})},a.handleIsLoggedOut=function(e){a.setState({isLoggedOut:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllUsers()}},{key:"render",value:function(){var e=this;return this.props.redirect?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement(v,{setterParent:this.props.handleBias,isLoggedIn:this.state.isLoggedIn,handelIsLoggedIn:this.handelIsLoggedIn,username:this.state.username,isLoggedOut:this.state.isLoggedOut,handleIsLoggedOut:this.handleIsLoggedOut,setRedirect:this.props.setRedirect}),r.a.createElement(y,{setterParent:this.props.handleBias,setSearchData:this.setSearchData}),""===this.props.bias&&r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("img",{className:"mainLogo",src:W.a,alt:"Logo"}))),r.a.createElement(H,{searchData:this.state.searchData,parsed_data:this.props.data,shuffle:this.shuffle,isLoggedIn:this.state.isLoggedIn}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement(v,{setterParent:this.props.handleBias,isLoggedIn:this.state.isLoggedIn,handelIsLoggedIn:this.handelIsLoggedIn,username:this.state.username,isLoggedOut:this.state.isLoggedOut,handleIsLoggedOut:this.handleIsLoggedOut,setRedirect:this.props.setRedirect}),r.a.createElement(y,{setterParent:this.props.handleBias,setSearchData:this.setSearchData}),""===this.props.bias&&r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("img",{className:"mainLogo",src:W.a,alt:"Logo"}))),r.a.createElement(O.d,null,r.a.createElement(O.b,{exact:!0,path:"/"},r.a.createElement(k,{parsed_data:this.props.data,shuffle:this.shuffle,isLoggedIn:this.state.isLoggedIn})),r.a.createElement(O.b,{exact:!0,path:"/:id",render:function(t){return r.a.createElement(L,Object.assign({},t,{bias:e.props.bias,parsed_data:e.props.data,shuffle:e.shuffle,isLoggedIn:e.state.isLoggedIn}))}}),r.a.createElement(O.b,{exact:!0,path:"/auth/login"},r.a.createElement(C,{isLoggedIn:this.state.isLoggedIn,handelIsLoggedIn:this.handelIsLoggedIn,updateUser:this.getUser})),r.a.createElement(O.b,{exact:!0,path:"/auth/signup"},r.a.createElement(A,{isLoggedIn:this.state.isLoggedIn,handelIsLoggedIn:this.handelIsLoggedIn})),r.a.createElement(O.b,{exact:!0,path:"/auth/admin"},r.a.createElement(I,{users:this.state.users,getUsers:this.getAllUsers})),r.a.createElement(O.b,{exact:!0,path:"/auth/history"},this.state.isLoggedIn?r.a.createElement(S,{users:this.state.users,getUsers:this.getAllUsers}):r.a.createElement(O.a,{to:"/auth/login"})),r.a.createElement(O.b,{exact:!0,path:"/auth/dashboard"},this.state.isLoggedIn?r.a.createElement(_,{users:this.state.users}):r.a.createElement(O.a,{to:"/auth/login"})))))}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],bias:"",redirect:!1},a.getDataFromDb=function(){E.a.get("/data",{params:{name:a.state.bias}}).then((function(e){e.data.user?(console.log("Get User: There is a user saved in the server session: "),a.setState({isLoggedIn:!0,username:e.data.user.username,data:e.data.data})):a.setState({data:e.data.data})}))},a.setRedirect=function(e){console.log("inside setRedirect"),a.setState({redirect:e})},a.handleBias=function(e){if(""===e)a.setState({bias:"",redirect:!1},(function(){return console.log(a.state)}));else{var t=e.toLowerCase().split(" ").join("_");console.log(t),a.setState({bias:t,redirect:!1},(function(){return console.log(a.state)}))}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getDataFromDb()}},{key:"render",value:function(){return r.a.createElement(q,{data:this.state.data,handleBias:this.handleBias,bias:this.state.bias,getArticles:this.getDataFromDb,redirect:this.state.redirect,setRedirect:this.setRedirect})}}]),t}(r.a.Component),G=(a(67),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function z(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(J,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");G?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):z(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):z(t,e)}))}}()}},[[37,1,2]]]);
//# sourceMappingURL=main.573af919.chunk.js.map